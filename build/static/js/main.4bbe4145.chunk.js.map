{"version":3,"sources":["component/Filter.js","component/PersonForm.js","component/Listing.js","component/Persons.js","services/persons.js","component/Notification.js","App.js","index.js"],"names":["Filter","value","onChange","Form","onSubmit","valueName","valueNumber","onChangeName","onChangeNumber","type","Listing","name","number","id","deletePerson","onClick","Person","persons","searchName","numbersToShow","filter","person","toLowerCase","includes","className","map","baseURL","axios","get","then","response","data","newPerson","post","delete","status","put","Notification","notification","message","success","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setSearchName","errorMessage","setErrorMessage","useEffect","personService","retrievePersons","e","target","event","preventDefault","doesPersonExist","some","confirmation","window","confirm","find","setTimeout","catch","error","p","createPerson","concat","personToDelete","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4bbe4145.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Filter = ({ value, onChange }) => {\r\n\r\n    return(\r\n        <div>\r\n            name: <input value={value} onChange={onChange} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from \"react\";\r\n\r\nconst Form = ({ onSubmit, valueName, valueNumber, onChangeName, onChangeNumber}) => {\r\n\r\n    return(\r\n        <form onSubmit={onSubmit}>\r\n            <br />\r\n            <div>name: <input value={valueName} onChange={onChangeName} /></div>\r\n            <div>number: <input value={valueNumber} onChange={onChangeNumber} /></div>\r\n            <div><button type=\"submit\">add</button></div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Form","import React from \"react\";\r\n\r\nconst Listing = ({  name, number, id, deletePerson }) => {\r\n\r\n    return (\r\n        <div>{name} {number} \r\n            <span> <button onClick={() => deletePerson(id)}>Delete</button></span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Listing\r\n","import React from \"react\";\r\nimport Listing from \"./Listing\";\r\n\r\nconst Person = ({ persons, searchName, deletePerson }) => {\r\n\r\n    const numbersToShow = persons.filter( (person) => person.name.toLowerCase().includes(searchName) )\r\n\r\n    return(\r\n        <div className=\"Listings\">\r\n            { \r\n            numbersToShow.map( ({name, number, id}) => \r\n                <Listing \r\n                    name={name} \r\n                    number={number} \r\n                    id={id}\r\n                    deletePerson={deletePerson} \r\n                    key={id} \r\n                />   )\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default Person\r\n","import axios from \"axios\";\r\nconst baseURL = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseURL)\r\n    return request.then(response => response.data )\r\n}\r\n\r\nconst create = newPerson => {\r\n    const request =  axios.post(baseURL, newPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deleteThisPerson = id => {\r\n    const request = axios.delete(`${baseURL}/${id}`)\r\n    return request.then(response => response.status)\r\n} \r\n\r\nconst update = (id, newPerson) => {\r\n    const request = axios.put(`${baseURL}/${id}`, newPerson)\r\n    return request.then(response => response.status)\r\n}\r\n\r\nexport default { getAll, create, deleteThisPerson, update}","import React from 'react'\r\nimport './Notification.css'\r\n\r\nconst Notification = ({ notification }) => {\r\n    \r\n   \r\n    if (notification === null) {\r\n      return null\r\n    }\r\n\r\n    let {message, success} = notification\r\n\r\n  \r\n    if (success) {\r\n      return (\r\n        <div className=\"valid\">\r\n            {message}\r\n        </div>\r\n      )\r\n    }\r\n    \r\n    return (\r\n      <div className=\"error\">\r\n        {message}\r\n      </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './component/Filter'\nimport Form from './component/PersonForm'\nimport Person from './component/Persons'\nimport personService from './services/persons';\nimport Notification from './component/Notification';\n\nconst App = () => {\n\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ searchName, setSearchName ] = useState('')\n  const [ errorMessage, setErrorMessage] = useState(null)\n  \n  useEffect(() => {\n     personService\n        .getAll()\n        .then(retrievePersons => {\n          setPersons(retrievePersons)\n      })\n  }, [])\n\n\n\n  const addPerson = (event) => {\n    \n    event.preventDefault();\n\n    let doesPersonExist = persons.some( person => person.name === newName)\n\n    if (doesPersonExist) {\n      let confirmation = window.confirm(`${newName} has already ` +\n        `been added to the phonebook, would you like to replace old number with` +\n        ` new one?`)\n\n      let person = persons.find(person => person.name === newName)\n      person.number = newNumber\n\n      if (confirmation) {\n        personService\n        .update(person.id, person)\n        .then(response => {\n          if (response === 200)\n            setErrorMessage({ message: `${person.name} has been updated `, success: true })\n            setTimeout( () => setErrorMessage(null), 2000)\n            \n        })\n        .catch(error => {\n          setErrorMessage({ message: `${person.name} was already removed from server`, success: false })\n          setTimeout( () => setErrorMessage(null), 2000)\n          setPersons(persons.filter( p => p.id !== person.id))\n        })\n      }\n      setNewName('')\n      \n      return setNewNumber('')\n     \n    }\n\n    const newPerson = {\n      name: newName,\n      number: newNumber,\n    }\n\n\n    personService\n      .create(newPerson)\n      .then(createPerson => {\n        setPersons(persons.concat(createPerson))\n        setNewName('')\n        setNewNumber('')\n        setErrorMessage({ message: `${newPerson.name} has been added`, success: true })\n        setTimeout( () => setErrorMessage(null), 2000)\n      })\n      .catch(error => {\n        setErrorMessage({ message: `${error.response.data.error}`, success: false})\n        setNewName('')\n        setNewNumber('')\n        setTimeout( () => setErrorMessage(null), 4000)\n      })\n\n  }\n  \n  const deletePerson = (id) => {\n    \n    let personToDelete = persons.find( person => person.id === id)\n    let confirmation = window.confirm(`Delete ${personToDelete.name} ? `)\n    \n    if (confirmation) { \n      personService\n        .deleteThisPerson(id)\n        .then(response => {\n          if (response === 200) {\n            setErrorMessage(`${personToDelete.name} has been deleted`)\n            setTimeout( () => setErrorMessage(null), 2000)\n          }\n          setPersons(persons.filter( p => p.id !== id))\n        })\n      \n    }\n  }\n\n  const handleNameChange = (e) => {\n    setNewName(e.target.value)\n  }\n\n  const handleNumberChange = (e) => {\n    setNewNumber(e.target.value)\n  }\n\n  const handleSearchName = (e) => {\n    setSearchName(e.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2> \n      <Notification notification={errorMessage} />\n        \n      <Filter value={searchName} onChange={handleSearchName} />\n      <h2>Add a new</h2>\n      <Form \n        onSubmit={addPerson} \n        valueName={newName}\n        valueNumber={newNumber}\n        onChangeName={handleNameChange}\n        onChangeNumber={handleNumberChange}  \n      />\n\n      <h2>Numbers</h2>\n      <Person \n        persons={persons} \n        searchName={searchName} \n        deletePerson={deletePerson}  \n      />\n        ...\n    </div>\n  )\n}\n\nexport default App\n\n// ","import ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\n//App.use(cors()) // Use this after the variable declaration\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}